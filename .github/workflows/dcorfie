FROM python:3.12-slim AS build
ADD . /pythonapp
WORKDIR /pythonapp
RUN pip3 install --prefix=/devops requirements.txt

FROM python:3.12-slim AS run
LABEL project="python project"
LABEL author="devops"
COPY --from=build /pythonapp/devops /aws
WORKDIR /aws
EXPOSE 5001
CMD ["python3","app.py"]